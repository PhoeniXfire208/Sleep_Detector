Название:
Sleep_Detector

1) 

Цель:
Разработать систему-детектор анти-сон для водителей автомобилей

Описание:
Разработка системы-детектора сна для водителей автомобилей путём использования камеры для
непрерывного наблюдения за водителем и алгоритма, основанного на машинном обучении распознавания
мимки, в частности закрытия глаз водителем. При выявлении системой данного события, подаётся сигнал,
высылается оповещение на сервер, а также вызываются экстренные службы.

Список аналогов:

= Камеры мониторинга водителя (DMS). Анализируют лицо: закрытие глаз, зевоту, направление взгляда. 
Стандарт в современных автомобилях (Toyota, Mercedes, BMW). Реакция: звуковое предупреждение, вибрация руля.

- Анализ поведения рулевого управления. Система (например, у Mercedes) создает профиль вождения и предупреждает 
при сильном отклонении (резкие микрокоррекции). Реакция: сообщение "Сделать перерыв".

- Система предупреждения о съезде с полосы (LDW). Камера смотрит на дорогу. Если водитель пересекает разметку
без поворотника, система вибрирует руль. Косвенный признак потери внимания.

- Датчики в руле или сиденье. Измеряют пульс и кожно-гальваническую реакцию для оценки уровня стресса и усталости. 
Реакция: предупреждение.

- Комплексные системы (камера + датчики автомобиля). Объединяют мониторинг водителя и анализ движения. 
В критической ситуации могут самостоятельно затормозить и вызвать экстренные службы через систему eCall (например, некоторые модели Volvo).

Планируемые пользователи:
- Водители легковых 
- Грузовых автомобилей
Сценарии:
- Водителю стало плохо
- Водитель уснул за рулём

2)

План работ:
- Определение составлюющих деталей проекта
- Заказ деталей
- Сбор устройства
- Написание кода
- Тестирование

График выполнения:
1-15 окт Определение составлюющих деталей проекта и Заказ деталей (Выполнено)
15-31 окт Сборка устройства
1-16 ноя Написание кода
16-30 ноя Тестирование и презентация работоспособности

3)

Минимальный функционал:
- Распознавание закрытия глаз водителя
- Подача звукового/вибрирующего/светового сигнала
- Отправка оповещения на сервер

4)

С++/Arduino Framework

Библиотеки:

Библиотеки для ESP32-CAM (детектор):

#include "esp_camera.h"          // Работа с камерой
#include "WiFi.h"                // WiFi подключение
#include <PubSubClient.h>        // MQTT клиент
#include "esp_timer.h"           // Таймеры
#include "img_converters.h"      // Конвертация изображений

Для детектирования:

#include <EloquentVision>        // Упрощенное компьютерное зрение
// ИЛИ
#include <OpenCV>               // Если будем использовать мини-версию OpenCV
// ИЛИ собственные алгоритмы на базе:
#include "fb_gfx.h"             // Графические операции

Библиотеки для NodeMCU V3 (сигнализация):

#include <ESP8266WiFi.h>        // WiFi для ESP8266
#include <PubSubClient.h>       // MQTT клиент

Для отладки и работы с периферией:

#include <ArduinoJson.h>        // Работа с JSON (для сложных сообщений)
#include "EEPROM.h"             // Для сохранения настроек
#include <WebServer.h>          // Веб-интерфейс для настройки

Используемые детали для создания устройства:

Резистор 330 Ом 0,25вт 10шт CF-1/4W углеродистый, LAUBEI NodeMcu V3 Lua WIFI плата,
Модуль зуммера Arduino, Преобразователь USB-SERIAL (USB, TTL, UART) микроконтроллер,
адаптер CH340G, 3.3V-5V, Набор LED 5мм светодиодов 5 цветов по 5шт,2N2222A 10шт, 
Биполярный транзистор, NPN, 40В, 0.6А, 250МГц, корпус TO92, 
Беспаечная макетная плата (breadboard) 400 точек, для Arduino STM32 NodeMCU Raspberry,
Провода-перемычки DuPont для радиоконструктора 10см набор 3х10штук для Arduino,
 Raspberry Pi, STM32, NodeMCU, Вибромотор 1030 3V вибро (10*3мм).
 

